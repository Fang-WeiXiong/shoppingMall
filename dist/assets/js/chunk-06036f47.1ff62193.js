(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06036f47"],{"0af8":function(t,s,e){"use strict";e("3aa2")},"0ce1":function(t,s,e){"use strict";e("5c48")},"28dc":function(t,s,e){"use strict";e("88a5")},"2d50":function(t,s,e){},"3aa2":function(t,s,e){},"3f23":function(t,s,e){"use strict";e("76f6")},"508b":function(t,s,e){},"57a8":function(t,s,e){},"57bd":function(t,s,e){"use strict";e("b064")},"5c48":function(t,s,e){},"64fd":function(t,s,e){"use strict";e("9ffe")},"6ab7":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"detail"},[e("detail-nav-bar",{ref:"detailNavBar",on:{titleClick:t.titleClick}}),e("scroll",{ref:"scroll",staticClass:"detail-content",attrs:{"probe-type":3},on:{scroll:t.contentScroll}},[e("detail-swiper",{attrs:{"top-images":t.topImages}}),e("detail-base-info",{attrs:{goods:t.goodsInfo}}),e("detail-shop-info",{attrs:{shop:t.shopInfo}}),e("detail-goods-info",{attrs:{detailInfo:t.detailInfo},on:{detailImagesLoad:t.detailImagesLoad}}),e("detail-param-info",{ref:"params",attrs:{paramInfo:t.itemParams}}),e("detail-comment-info",{ref:"comment",attrs:{commentInfo:t.commentInfo}}),e("goods-list",{ref:"recommends",staticClass:"detail-goods-list",attrs:{cgoods:t.recommends}})],1),e("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(s){return t.backClick(s)}}}),e("toast",{attrs:{message:t.meassage,show:t.show}}),e("detail-bottom-bar",{on:{addCart:t.addToCart}})],1)},i=[],n=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("nav-bar",{scopedSlots:t._u([{key:"left",fn:function(){return[a("div",{staticClass:"nav-bar-back",on:{click:t.backClick}},[a("img",{attrs:{src:e("7a74"),alt:""}})])]},proxy:!0},{key:"center",fn:function(){return[a("div",{staticClass:"title"},t._l(t.titles,(function(s,e){return a("div",{key:s,staticClass:"title-item",class:{active:e===t.currentIndex},on:{click:function(s){return t.titleClick(e)}}},[t._v(t._s(s))])})),0)]},proxy:!0}])})],1)},o=[],c=e("a7ac"),l={name:"DetailNavBar",components:{NavBar:c["a"]},data:function(){return{titles:["商品","参数","评论","推荐"],currentIndex:0}},methods:{titleClick:function(t){this.currentIndex=t,this.$emit("titleClick",t)},backClick:function(){this.$router.back()}}},r=l,m=(e("57bd"),e("2877")),f=Object(m["a"])(r,n,o,!1,null,null,null),u=f.exports,d=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("swiper",{staticClass:"detail-swiper"},t._l(t.topImages,(function(t){return e("swiper-item",{key:t.index},[e("img",{attrs:{src:t,alt:""}})])})),1)},p=[],h=e("dc2c"),v={name:"DetailSwiper",props:{topImages:{default:function(){return[]}}},components:{Swiper:h["a"],SwiperItem:h["b"]}},_=v,g=(e("0af8"),Object(m["a"])(_,d,p,!1,null,null,null)),I=g.exports,C=function(){var t=this,s=t.$createElement,e=t._self._c||s;return Object.keys(t.goods).length>0?e("div",{staticClass:"baseInfo"},[e("div",{staticClass:"title"},[t._v(t._s(t.goods.title))]),e("div",{staticClass:"price"},[e("span",{staticClass:"newPrice"},[t._v(t._s(t.goods.newPrice))]),e("span",{staticClass:"oldPrice"},[t._v(t._s(t.goods.oldPrice))]),e("span",{staticClass:"discount"},[t._v(t._s(t.goods.discount))])]),e("div",{staticClass:"columns"},[e("span",[t._v(t._s(t.goods.columns[0]))]),e("span",[t._v(t._s(t.goods.columns[1]))]),e("span",[t._v(t._s(t.goods.services[0].name))])]),e("div",{staticClass:"services"},t._l(t.goods.services,(function(s,a){return e("div",{key:a,staticClass:"servicesItem"},[e("img",{staticClass:"icon",attrs:{src:s.icon,alt:""}}),e("span",{staticClass:"name"},[t._v(t._s(s.name))])])})),0)]):t._e()},b=[],k={name:"DetailBaseInfo",props:{goods:{type:Object,default:function(){return{}}}}},w=k,y=(e("28dc"),Object(m["a"])(w,C,b,!1,null,null,null)),T=y.exports,x=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"detail-shop-info"},[e("div",{staticClass:"shopDetail"},[e("img",{attrs:{src:t.shop.shopLogo,alt:""}}),e("span",[t._v(t._s(t.shop.name))])]),e("div",{staticClass:"shopMessge"},[e("div",{staticClass:"number"},[e("div",{staticClass:"sells"},[e("p",[t._v(t._s(t.shop.cSells))]),e("p",[t._v("总销量")])]),e("div",{staticClass:"count"},[e("p",[t._v(t._s(t.shop.cGoods))]),e("p",[t._v("全部宝贝")])])]),e("div",{staticClass:"assess"},t._l(t.shop.score,(function(s,a){return e("div",{key:a,staticClass:"assessItem"},[e("span",[t._v(t._s(s.name))]),e("span",{class:{low:0==s.isBetter}},[t._v(t._s(s.score))]),e("span",{class:{lower:0==s.isBetter}},[t._v(t._s(s.isBetter?"高":"低"))])])})),0)]),e("div",{staticClass:"btn"},[t._v("进店逛逛")])])},$=[],O={name:"DetailShopInfo",props:{shop:{type:Object,default:function(){return{}}}}},j=O,D=(e("c299"),Object(m["a"])(j,x,$,!1,null,null,null)),B=D.exports,S=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0!==Object.keys(t.detailInfo).length?e("div",{staticClass:"goodsInfo"},[e("div",{staticClass:"info-desc clear-fix"},[e("div",{staticClass:"start"}),e("div",{staticClass:"desc"},[t._v(t._s(t.detailInfo.desc))]),e("div",{staticClass:"end"})]),t._l(t.detailInfo.detailImage,(function(s,a){return e("div",{key:a,staticClass:"image-detail"},[e("p",[t._v(t._s(s.key))]),t._l(s.list,(function(s,a){return e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s,expression:"imgItem"}],key:a,attrs:{alt:""},on:{load:t.imagesLoad}})}))],2)}))],2):t._e()},P=[],E={name:"DetailGoodsInfo",props:{detailInfo:{type:Object,default:function(){return{}}}},data:function(){return{imageNumber:0}},methods:{imagesLoad:function(){++this.imageNumber===this.imageNumber&&this.$emit("detailImagesLoad")}},watch:{detailInfo:function(){this.imageNumber=this.detailInfo.detailImage[0].list.length}}},N=E,Y=(e("8ea3"),Object(m["a"])(N,S,P,!1,null,null,null)),L=Y.exports,G=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0!==Object.keys(t.paramInfo).length?e("div",{staticClass:"param-info"},[t._l(t.paramInfo.rule.tables,(function(s,a){return e("table",{key:a,staticClass:"info-size"},t._l(s,(function(s,a){return e("tr",{key:a},t._l(s,(function(s,a){return e("td",{key:a},[t._v(t._s(s))])})),0)})),0)})),e("table",{staticClass:"info-param"},t._l(t.paramInfo.info.set,(function(s,a){return e("tr",{key:a},[e("td",{staticClass:"info-param-key"},[t._v(t._s(s.key))]),e("td",{staticClass:"param-value"},[t._v(t._s(s.value))])])})),0),e("div",{staticClass:"info-img"},[e("img",{attrs:{src:t.paramInfo.image,alt:""}})])],2):t._e()},z=[],M={name:"DetailParamInfo",props:{paramInfo:{type:Object,default:function(){return{}}}}},J=M,q=(e("64fd"),Object(m["a"])(J,G,z,!1,null,null,null)),A=q.exports,F=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"detailcommentinfo"}},[Object.keys(t.commentInfo).length>0?e("div",{staticClass:"comment"},[t._m(0),e("div",{staticClass:"userInfo"},[e("img",{attrs:{src:t.commentInfo.user.avatar,alt:""}}),e("span",[t._v(t._s(t.commentInfo.user.uname))])]),e("div",{staticClass:"content"},[t._v(t._s(t.commentInfo.content))]),e("div",{staticClass:"commentDetail"},[e("span",[t._v(t._s(t._f("showTime")(t.commentInfo.created)))]),e("span",[t._v(t._s(t.commentInfo.style))])]),t.commentInfo.images?e("div",{staticClass:"imageShow"},t._l(t.commentInfo.images,(function(t,s){return e("img",{key:s,attrs:{src:t,alt:""}})})),0):t._e()]):e("div",{staticClass:"noComment"},[t._v("暂无评论")])])},H=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"title"},[e("span",[t._v("用户评价")]),e("span",[t._v("更多")])])}],K=e("459e"),Q={name:"DetailCommentInfo",props:{commentInfo:{type:Object,default:function(){return{}}}},filters:{showTime:function(t){var s=new Date(1e3*t);return Object(K["a"])(s,"yyyy-MM-dd hh:mm")}}},R=Q,U=(e("8aa8"),Object(m["a"])(R,F,H,!1,null,"9f026170",null)),V=U.exports,W=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bottom-bar"},[t._m(0),e("div",{staticClass:"bar-item bar-right"},[e("div",{staticClass:"cart",on:{click:t.addToCart}},[t._v("加入购物车")]),e("div",{staticClass:"buy"},[t._v("购买")])])])},X=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bar-item bar-left"},[e("div",[e("i",{staticClass:"icon service"}),e("span",{staticClass:"text"},[t._v("客服")])]),e("div",[e("i",{staticClass:"icon shop"}),e("span",{staticClass:"text"},[t._v("店铺")])]),e("div",[e("i",{staticClass:"icon select"}),e("span",{staticClass:"text"},[t._v("收藏")])])])}],Z={name:"DetailBottomBar",methods:{addToCart:function(){this.$emit("addCart")}}},tt=Z,st=(e("a9f6"),Object(m["a"])(tt,W,X,!1,null,"5af1fd1c",null)),et=st.exports,at=e("6d71"),it=e("fdd6"),nt=e("5d17"),ot=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"toast"},[e("div",[t._v(" "+t._s(t.message)+" ")])])},ct=[],lt={name:"Toast",props:{message:{type:String,default:""},show:{type:Boolean,default:!1}}},rt=lt,mt=(e("0ce1"),Object(m["a"])(rt,ot,ct,!1,null,null,null)),ft=mt.exports;function ut(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}e("b0c0");var dt=e("1bab");function pt(t){return Object(dt["a"])({url:"./detail/",params:{iid:t}})}function ht(){return Object(dt["a"])({url:"./recommend"})}var vt=function t(s,e,a){ut(this,t),this.title=s.title,this.desc=s.desc,this.newPrice=s.price,this.oldPrice=s.oldPrice,this.discount=s.discountDesc,this.columns=e,this.services=a,this.realPrice=s.lowNowPrice},_t=function t(s,e){ut(this,t),this.name=s,this.age=e},gt=new _t("why",18);console.log(gt.name);var It=e("eecb"),Ct={name:"Detail",components:{DetailNavBar:u,DetailSwiper:I,DetailBaseInfo:T,DetailShopInfo:B,DetailGoodsInfo:L,DetailParamInfo:A,DetailCommentInfo:V,DetailBottomBar:et,GoodsList:at["a"],BackTop:it["a"],Scroll:nt["a"],Toast:ft},mixins:[It["a"]],data:function(){return{iid:null,topImages:[],goodsInfo:{},shopInfo:{},detailInfo:{},itemParams:{},commentInfo:{},recommends:[],itemImgListener:null,themeTopYs:[],getThemeTopY:null,currentIndex:0,isShowBackTop:!1,meassage:"",show:!1}},created:function(){var t=this;this.iid=this.$route.params.iid,pt(this.iid).then((function(s){var e=s.data.result;console.log(s),t.topImages=e.itemInfo.topImages,t.goodsInfo=new vt(e.itemInfo,e.columns,e.shopInfo.services),t.shopInfo=e.shopInfo,t.detailInfo=e.detailInfo,t.itemParams=e.itemParams,t.commentInfo=e.rate.list[0]})),ht().then((function(s){t.recommends=s.data.data.list}))},mounted:function(){},destroyed:function(){this.$bus.$off("itemImgLoad",this.itemImgListener)},methods:{detailImagesLoad:function(){this.themeTopYs=[],this.themeTopYs.push(0),this.themeTopYs.push(this.$refs.params.$el.offsetTop),this.themeTopYs.push(this.$refs.comment.$el.offsetTop),this.themeTopYs.push(this.$refs.recommends.$el.offsetTop)},titleClick:function(t){this.$refs.scroll.scrollTo(0,-this.themeTopYs[t],300)},contentScroll:function(t){var s=-t.y,e=this.themeTopYs.length;for(var a in this.themeTopYs)a*=1,this.currentIndex!==a&&(a<e-1&&s>this.themeTopYs[a]&&s<this.themeTopYs[a+1]||a===e-1&&s>this.themeTopYs[a])&&(this.currentIndex=a,this.$refs.detailNavBar.currentIndex=this.currentIndex);this.isShowBackTop=-t.y>1e3},backClick:function(){this.$refs.scroll.scrollTo(0,0)},addToCart:function(){var t=this,s={};s.image=this.topImages[0],s.title=this.goodsInfo.title,s.desc=this.goodsInfo.desc,s.price=this.goodsInfo.realPrice,s.iid=this.iid,this.$store.dispatch("addCart",s).then((function(s){t.show=!0,t.meassage=s,setTimeout((function(){t.show=!1,t.meassage=null}),1500),console.log(s)}))}}},bt=Ct,kt=(e("3f23"),Object(m["a"])(bt,a,i,!1,null,null,null));s["default"]=kt.exports},"76f6":function(t,s,e){},"7a74":function(t,s,e){t.exports=e.p+"assets/img/back.26df9036.svg"},"802e":function(t,s,e){},"88a5":function(t,s,e){},"8aa8":function(t,s,e){"use strict";e("2d50")},"8ea3":function(t,s,e){"use strict";e("508b")},"9ffe":function(t,s,e){},a9f6:function(t,s,e){"use strict";e("802e")},b064:function(t,s,e){},c299:function(t,s,e){"use strict";e("57a8")}}]);
//# sourceMappingURL=chunk-06036f47.1ff62193.js.map